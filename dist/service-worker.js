
      var assets = ["/index.html","/styles.ef053950.css","/layers.77839261.png","/layers-2x.d4567198.png","/marker-icon.35382b40.png","/manifest.6ce1f237.webmanifest","/icon.283ddda6.png","/main.26688761.js","/marker-icon.25a431ac.png","/marker-icon-2x.83f890ed.png","/marker-shadow.e6998e8e.png","/1.70fc57e4.webp","/2.84469599.webp","/3.146c2f7c.webp","/10.3b50cc36.webp","/4.4cfcb6ed.webp","/6.deacad3e.webp","/7.4a0657ee.webp","/8.252f06f1.webp","/5.b3abc665.webp","/9.8ee3a351.webp","/2.04ff88ae.webp","/3.a4df0c37.webp","/5.7b5e327f.webp","/10.1c2139a3.webp","/7.b2616c9d.webp","/4.33f8c615.webp","/8.a3753272.webp","/1.bacb55c9.webp","/1.f78a7a1d.webp","/2.e6ff451b.webp","/3.0e8863c5.webp","/10.8d3b7863.webp","/4.a291ff4f.webp","/5.39504d06.webp","/6.31c2208b.webp","/8.b809f526.webp","/7.c034cc80.webp","/9.be80658d.webp","/9.8691c767.webp","/6.5286e23c.webp","/image-placeholder.a3a2c91d.jpg","/restaurant.html","/restaurant_info.d97f90b4.js"];
      var cacheName = "offline-cache";
parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"k5Pw":[function(require,module,exports) {
"use strict";!function(){function e(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function t(t,n,o){var r,i=new Promise(function(i,u){e(r=t[n].apply(t,o)).then(i,u)});return i.request=r,i}function n(e,t,n){n.forEach(function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})})}function o(e,n,o,r){r.forEach(function(r){r in o.prototype&&(e.prototype[r]=function(){return t(this[n],r,arguments)})})}function r(e,t,n,o){o.forEach(function(o){o in n.prototype&&(e.prototype[o]=function(){return this[t][o].apply(this[t],arguments)})})}function i(e,n,o,r){r.forEach(function(r){r in o.prototype&&(e.prototype[r]=function(){return e=this[n],(o=t(e,r,arguments)).then(function(e){if(e)return new c(e,o.request)});var e,o})})}function u(e){this._index=e}function c(e,t){this._cursor=e,this._request=t}function s(e){this._store=e}function p(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}function a(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new p(n)}function f(e){this._db=e}n(u,"_index",["name","keyPath","multiEntry","unique"]),o(u,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),i(u,"_index",IDBIndex,["openCursor","openKeyCursor"]),n(c,"_cursor",["direction","key","primaryKey","value"]),o(c,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(t){t in IDBCursor.prototype&&(c.prototype[t]=function(){var n=this,o=arguments;return Promise.resolve().then(function(){return n._cursor[t].apply(n._cursor,o),e(n._request).then(function(e){if(e)return new c(e,n._request)})})})}),s.prototype.createIndex=function(){return new u(this._store.createIndex.apply(this._store,arguments))},s.prototype.index=function(){return new u(this._store.index.apply(this._store,arguments))},n(s,"_store",["name","keyPath","indexNames","autoIncrement"]),o(s,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),i(s,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),r(s,"_store",IDBObjectStore,["deleteIndex"]),p.prototype.objectStore=function(){return new s(this._tx.objectStore.apply(this._tx,arguments))},n(p,"_tx",["objectStoreNames","mode"]),r(p,"_tx",IDBTransaction,["abort"]),a.prototype.createObjectStore=function(){return new s(this._db.createObjectStore.apply(this._db,arguments))},n(a,"_db",["name","version","objectStoreNames"]),r(a,"_db",IDBDatabase,["deleteObjectStore","close"]),f.prototype.transaction=function(){return new p(this._db.transaction.apply(this._db,arguments))},n(f,"_db",["name","version","objectStoreNames"]),r(f,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(e){[s,u].forEach(function(t){e in t.prototype&&(t.prototype[e.replace("open","iterate")]=function(){var t,n=(t=arguments,Array.prototype.slice.call(t)),o=n[n.length-1],r=this._store||this._index,i=r[e].apply(r,n.slice(0,-1));i.onsuccess=function(){o(i.result)}})})}),[u,s].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,o=[];return new Promise(function(r){n.iterateCursor(e,function(e){e?(o.push(e.value),void 0===t||o.length!=t?e.continue():r(o)):r(o)})})})});var d={open:function(e,n,o){var r=t(indexedDB,"open",[e,n]),i=r.request;return i&&(i.onupgradeneeded=function(e){o&&o(new a(i.result,e.oldVersion,i.transaction))}),r.then(function(e){return new f(e)})},delete:function(e){return t(indexedDB,"deleteDatabase",[e])}};"undefined"!=typeof module?(module.exports=d,module.exports.default=module.exports):self.idb=d}();
},{}],"AaGI":[function(require,module,exports) {
"use strict";var t=require("idb"),e=n(t);function n(t){return t&&t.__esModule?t:{default:t}}var r=!1;self.addEventListener("install",function(t){t.waitUntil(caches.open(cacheName).then(function(t){var e=t.addAll(assets).catch(function(t){console.log(t)}),n=fetch("/index.html").then(function(e){if(!e.ok)throw new TypeError("bad response status");return t.put("/",e)});return Promise.all([e,n]).catch(function(t){console.log(t)})}))});var a=e.default.open("fm-udacity-restaurant",3,function(t){switch(t.oldVersion){case 0:t.createObjectStore("restaurants",{keyPath:"id"});case 1:t.createObjectStore("reviews",{keyPath:"id"}).createIndex("restaurant_id","restaurant_id");case 2:t.createObjectStore("pending",{keyPath:"id",autoIncrement:!0})}});self.addEventListener("fetch",function(t){var e=t.request;new URL(t.request.url);if(t.request.url.indexOf("restaurant.html")>-1){e=new Request("restaurant.html")}var n=new URL(t.request.url);if("1337"===n.port){var r=n.pathname.split("/"),a=n.searchParams.get("restaurant_id")-0;a||(a=n.pathname.indexOf("restaurants")?"restaurants"===r[r.length-1]?"-1":r[r.length-1]:n.searchParams.get("restaurant_id")),s(t,a)}else{if(n.hostname.indexOf("mapbox.com")>-1)return;c(t,e)}});var s=function(t,e){if("GET"!==t.request.method)return fetch(t.request).then(function(t){return t.json()}).then(function(t){return t});t.request.url.indexOf("reviews")>-1?u(t,e):i(t,e)},u=function(t,e){t.respondWith(a.then(function(t){return t.transaction("reviews").objectStore("reviews").index("restaurant_id").getAll(e)}).then(function(e){return e.length&&e||fetch(t.request).then(function(t){return t.json()}).then(function(t){return a.then(function(e){var n=e.transaction("reviews","readwrite").objectStore("reviews");return t.forEach(function(t){n.put({id:t.id,restaurant_id:t.restaurant_id,data:t})}),t})})}).then(function(t){if(t[0].data){var e=t.map(function(t){return t.data});return new Response(JSON.stringify(e))}return new Response(JSON.stringify(t))}).catch(function(t){return new Response("Error fetching data",{status:500})}))},i=function(t,e){t.respondWith(a.then(function(t){return t.transaction("restaurants").objectStore("restaurants").get(e)}).then(function(n){return n&&n.data||fetch(t.request).then(function(t){return t.json()}).then(function(t){return a.then(function(n){return n.transaction("restaurants","readwrite").objectStore("restaurants").put({id:e,data:t}),t})})}).then(function(t){return new Response(JSON.stringify(t))}).catch(function(t){return new Response("Error fetching data",{status:500})}))},c=function(t,e){t.respondWith(caches.match(e).then(function(e){return e||fetch(t.request).then(function(e){return caches.open(cacheName).then(function(n){return-1===e.url.indexOf("browser-sync")&&n.put(t.request,e.clone()),e})}).catch(function(t){return new Response("Application is not connected to the internet",{status:404,statusText:"Application is not connected to the internet"})})}))};
},{"idb":"k5Pw"}]},{},["AaGI"], null)
//# sourceMappingURL=/service-worker.map
//*invalidator:84f230a140953079d6b56d948c075a3b:9899bc0932cb4f93b3f848daef053950:374a66a92735362fe5b2198277839261:19a1a055565d4afb75a1e577d4567198:955054256fd5d0158b8d9e9235382b40:a06125d816cd84d60d6cb4e26ce1f237:ea1c5618704e06a2b9959f87283ddda6:b5684b06cc9c3b5ac4e0de2026688761:e2756902ac02a7152fa858d625a431ac:0e5cdfb28803ac5a8ab3965183f890ed:ce86489da3f7be58cd5bb1f7e6998e8e:46a95a5c6f44a4dc66831f4b70fc57e4:f9b04fe40e9cff2acb04795084469599:2fbd22418dde844cd009b85d146c2f7c:469c0e653387e293058eecd53b50cc36:073d7ac1f5f6fa5f467cded64cfcb6ed:c130455fefb345b011866b58deacad3e:f41cfafca86efc69d09d70a64a0657ee:d585109487b31aeafc47f840252f06f1:8c68d1f646950292dcdf95acb3abc665:59ed134fb53f75b0666754018ee3a351:4381d8e4f1b228e76e98e16c04ff88ae:a2e33acce55f2c49b45736fba4df0c37:62a2e36c148dd94064110a6c7b5e327f:1befbad3f1e107a0ca81904e1c2139a3:e7f05b8266e52d822262ac71b2616c9d:384b645f896bf9b911d13a3833f8c615:0cd2a3dc81c4a7e149e61ee9a3753272:faf88711f72f77a9c3855337bacb55c9:68081cbe4575b7bbf95fbeb6f78a7a1d:0f30cbd406a44b09a7f592c1e6ff451b:f91974d55ad481975dc36e1f0e8863c5:633ad24eac3aa5864aaf2e678d3b7863:b637ca99c71ac7b20bdb1e42a291ff4f:1fde950ffc309aa1df00eca439504d06:1d7b7ec726df1b2cc28d01b931c2208b:24006926895c98411fca96f1b809f526:bc8607832cba2561043b978dc034cc80:d17725a5443cd251fca79efcbe80658d:16c91523ba5ca777e03f77d38691c767:43eb2688a5cfd3ec0293ff095286e23c:09c5211d4deef154136012bea3a2c91d:961059e45895ccebee004c1c5e944f81:bbc536345b03bda6ca2b42b5d97f90b4